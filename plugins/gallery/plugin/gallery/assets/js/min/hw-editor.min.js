(function(e){e(function(){var l=hw_gallery_editor_frame=!1,a=function(a){a.preventDefault(),e(".hw-gallery-default-ui .selected").removeClass("details selected"),e(".hw-gallery-default-ui").appendTo(".hw-gallery-default-ui-wrapper").hide(),l=hw_gallery_editor_frame=!1};e(document).on("click",".hw-gallery-choose-gallery, .hw-gallery-modal-trigger",function(t){t.preventDefault(),l=t.target,hw_gallery_editor_frame=!0,e(".hw-gallery-default-ui").appendTo("body").show(),e(document).on("click",".media-modal-close, .media-modal-backdrop, .hw-gallery-cancel-insertion",a),e(document).on("keydown",function(e){27==e.keyCode&&hw_gallery_editor_frame&&a(e)})}),e(document).on("click",".hw-gallery-default-ui .thumbnail, .hw-gallery-default-ui .check, .hw-gallery-default-ui .media-modal-icon",function(l){l.preventDefault(),e(this).parent().parent().hasClass("selected")?(e(this).parent().parent().removeClass("details selected"),e(".hw-gallery-insert-gallery").attr("disabled","disabled")):(e(this).parent().parent().parent().find(".selected").removeClass("details selected"),e(this).parent().parent().addClass("details selected"),e(".hw-gallery-insert-gallery").removeAttr("disabled"))}),e(document).on("click",".hw-gallery-default-ui .check",function(l){l.preventDefault(),e(this).parent().parent().removeClass("details selected"),e(".hw-gallery-insert-gallery").attr("disabled","disabled")}),e(document).on("click",".hw-gallery-default-ui .hw-gallery-insert-gallery",function(t){if(t.preventDefault(),e(l).hasClass("hw-gallery-choose-gallery"))wp.media.editor.insert('[hw-gallery id="'+e(".hw-gallery-default-ui .selected").data("hw-gallery-id")+'"]');else{var r={action:"hw_gallery_load_gallery_data",id:e(".hw-gallery-default-ui:first .selected").data("hw-gallery-id")};e.post(ajaxurl,r,function(l){e(document).trigger({type:"hwGalleryModalData",gallery:l}),a(t)},"json")}a(t)})})})(jQuery);